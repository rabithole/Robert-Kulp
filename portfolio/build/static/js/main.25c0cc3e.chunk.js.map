{"version":3,"sources":["utils/axiosWithAuth.js","contexts/TripsContext.js","components/Login.js","components/SignUp.js","components/Trip.js","components/Trips.js","utils/ProtectedRoute.js","components/CreateTrip.js","utils/Logout.js","components/UpdateTrip.js","components/SingleTripsCard.js","components/SingleTrip.js","App.js","index.js"],"names":["getToken","localStorage","getItem","axios","create","baseURL","headers","authorization","TripsContext","createContext","withFormik","mapPropsToValues","props","username","password","validationSchema","Yup","shape","min","max","required","handleSubmit","values","setSubmitting","resetForm","axiosWithAuth","post","then","response","console","log","setItem","data","token","history","push","catch","err","setTimeout","errors","touched","className","type","name","placeholder","disabled","isSubmitting","Trip","id","useHistory","title","description","distance","date","onClick","event","preventDefault","delete","error","deleteTrip","to","Trips","trips","useContext","map","trip","key","trip_type","ProtectedRoute","Component","component","rest","render","renderProps","jwtDecode","require","CreateTrip","useState","newTrip","addAtrip","handleChange","e","target","value","onSubmit","decoded","user_id","userid","document","getElementById","reset","onChange","duration","is_private","is_professional","Logout","removeItem","UpdateTrip","tripUpdate","setUpdatedTrip","useEffect","get","match","params","result","put","SingleTripsCard","withRouter","setTrips","signedIn","isSignedIn","exact","path","Login","SignUp","Provider","SingleTrip","ReactDOM"],"mappings":"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","file":"static/js/main.25c0cc3e.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport function getToken() {\r\n\t// console.log(localStorage.getItem('token'));\r\n\treturn localStorage.getItem('token')\r\n}\r\n\r\nexport default function() {\r\n\treturn axios.create({\r\n\t\tbaseURL: 'https://guidr-2.herokuapp.com/api/',\r\n\t\theaders: {\r\n\t\t\tauthorization: getToken(),\r\n\t\t},\r\n\t})\r\n}","import { createContext } from \"react\";\r\n// imports the context module\r\n\r\n// const context = createContext();\r\n// console.log(context); // Logging the createContext object. \r\n\r\nexport const TripsContext = createContext();\r\n// This creates the data object.\r\n","import React from 'react';\r\nimport * as Yup from 'yup';\r\n// import axios from 'axios';\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\n\r\nimport './LoginForm.css';\r\n\r\nimport { withFormik, Form, Field } from 'formik';\r\n\r\nconst Login = ({ values, errors, touched }) => {\r\n  // console.log('Submitting', values.isSubmitting);\r\n  return (\r\n    <Form className='formBody'>\r\n      <h1> Login </h1>\r\n      <Field\r\n        className='input'\r\n        type='text'\r\n        name='username'\r\n        placeholder='UserName'\r\n      />\r\n      {touched.username && errors.username && (\r\n        <p className='errors'>{errors.username}</p>\r\n      )}\r\n      <Field\r\n        className='input'\r\n        type='password'\r\n        name='password'\r\n        placeholder='Password'\r\n      />\r\n      {touched.password && errors.password && (\r\n        <p className='errors'>{errors.password}</p>\r\n      )}\r\n      <button className='button' type='submit' disabled={values.isSubmitting}>\r\n        {values.isSubmitting ? 'Submitting' : 'Login'}\r\n      </button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default withFormik({\r\n  mapPropsToValues: props => ({\r\n    username: '',\r\n    password: ''\r\n  }),\r\n  validationSchema: Yup.object().shape({\r\n    username: Yup.string()\r\n      .min(2, 'Too Short!')\r\n      .max(70, 'Too Long!')\r\n      .required('UserName is Required!'),\r\n    password: Yup.string()\r\n      .min(6, 'Too Short!')\r\n      .max(70, 'Too Long!')\r\n      .required('Password is Required')\r\n  }),\r\n  handleSubmit: (values, { props, setSubmitting, resetForm }) => {\r\n    // console.log(values);\r\n    axiosWithAuth()\r\n      .post('auth/login', values)\r\n      .then(response => {\r\n        console.log('Data', response);\r\n        localStorage.setItem('token', response.data.token)\r\n        props.history.push('/Trips')\r\n      })\r\n      .catch(err => console.log(err.response));\r\n\r\n    setTimeout(() => {\r\n      console.log('Entered Value', values);\r\n      setSubmitting(false);\r\n    }, 1000);\r\n    resetForm();\r\n  }\r\n})(Login);\r\n","import React from 'react';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\n\r\nimport './LoginForm.css';\r\n\r\nimport { withFormik, Form, Field } from 'formik';\r\nfunction SignUp({ values, errors, touched }) {\r\n  return (\r\n    <Form className='formBody'>\r\n      <h1>Sign Up</h1>\r\n      <Field\r\n        className='input'\r\n        type='text'\r\n        name='username'\r\n        placeholder='UserName'\r\n      />\r\n      {touched.username && errors.username && (\r\n        <p className='errors'>{errors.username}</p>\r\n      )}\r\n      <Field\r\n        className='input'\r\n        type='password'\r\n        name='password'\r\n        placeholder='Password'\r\n      />\r\n      {touched.password && errors.password && (\r\n        <p className='errors'>{errors.password}</p>\r\n      )}\r\n      <button className='button' type='submit' disabled={values.isSubmitting}>\r\n        {values.isSubmitting ? 'SigningUp' : 'Sign Up'}\r\n      </button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default withFormik({\r\n  mapPropsToValues: props => ({\r\n    username: '',\r\n    password: ''\r\n  }),\r\n  validationSchema: Yup.object().shape({\r\n    username: Yup.string()\r\n      .min(2, 'Too Short!')\r\n      .max(70, 'Too Long!')\r\n      .required('UserName is Required!'),\r\n    password: Yup.string()\r\n      .min(6, 'Too Short!')\r\n      .max(70, 'Too Long!')\r\n      .required('Password is Required')\r\n  }),\r\n  handleSubmit: (values, { setSubmitting, resetForm }) => {\r\n    axios\r\n      .post('https://guidr-2.herokuapp.com/api/auth/register', values)\r\n      .then(response => {\r\n        console.log('Data', response);\r\n      })\r\n      .catch(err => console.log(err.response));\r\n\r\n    setTimeout(() => {\r\n      console.log('Entered Value', values);\r\n      setSubmitting(false);\r\n    }, 1000);\r\n    resetForm();\r\n  }\r\n})(SignUp);\r\n","import React from 'react';\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nfunction Trip(props) {\r\n\tconsole.log(props.id);\r\n\tconst history = useHistory();\r\n\r\n\tconst deleteTrip = (event, id) => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\taxiosWithAuth()\r\n\t\t.delete(`/trips/${id}`)\r\n\t\t.then(response => {\r\n\t\t\tconsole.log('Deleted')\r\n\t\t\thistory.push('/Trips')\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n\t}\r\n\r\n  \treturn (\r\n  \t\t<div className='trip'>\r\n  \t\t\t<h1>Trip Details</h1>\r\n  \t\t\t<p><strong>TITLE: </strong>{props.title}</p>\r\n  \t\t\t<p><strong>DESCRIPTION: </strong>{props.description}</p>\r\n  \t\t\t<p><strong>DISTANCE: </strong>{props.distance}</p>\r\n  \t\t\t<p><strong>DATE: </strong>{props.date}</p>\r\n  \t\t\t<p><strong>TYPE: </strong>{props.type}</p>\r\n\r\n  \t\t\t<button onClick={event => deleteTrip(event, props.id)}>Delete Trip</button>\r\n  \t\t\t{/*<button onClick={event => updateTrip(event, props.id)}>Update Trip</button>*/}\r\n  \t\t\t<Link to={`/UpdateTrip/${props.id}`}>\r\n  \t\t\t\t<button>Update Trip</button>\r\n  \t\t\t</Link>\r\n  \t\t</div>\r\n  \t);\r\n}\r\n\r\nexport default Trip;\r\n","import React, { useContext } from 'react';\r\nimport { TripsContext } from '../contexts/TripsContext';\r\nimport Trip from '../components/Trip';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Trips() {\r\n\tconst { trips } = useContext(TripsContext);\r\n\r\n\treturn (\r\n\t  \t<div>\r\n\t  \t\t\r\n  \t\t\t{trips.map(trip => (\r\n  \t\t\t\t<Link to={`/SingleTrip/${trip.id}`}>\r\n\t  \t\t\t\t<Trip\r\n\t  \t\t\t\t\ttitle={trip.title}\r\n\t  \t\t\t\t\tkey={trip.id}\r\n\t  \t\t\t\t\tid={trip.id}\r\n\t  \t\t\t\t\tdescription={trip.description}\r\n\t  \t\t\t\t\tdistance={trip.distance}\r\n\t  \t\t\t\t\tdate={trip.date}\r\n\t  \t\t\t\t\ttype={trip.trip_type}\r\n\t  \t\t\t\t/>\r\n  \t\t\t\t</Link>\r\n  \t\t\t))}\r\n\t  \t\t\r\n\t  \t</div>\r\n\t);\r\n}\r\n\r\nexport default Trips;","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\n\r\nfunction ProtectedRoute(props) {\r\n\t// console.log(props);\r\n\t// We are essentially duplicating \"props\" here,\r\n\t// but excluding the value of \"component\".\r\n\tconst {\r\n\t\tcomponent: Component, // destructering the components that are passed through the ProtectedRoute from App.js\r\n\t\t...rest\t// rest holds all other valued other than the specific component above. \r\n\t} = props\r\n\r\n\treturn (\r\n\t\t// Since we can't have both a \"component\" and a \"render\" prop,\r\n\t\t// use our copy of props without \"component\"\r\n\t\t<Route {...rest} render={(renderProps) => {\r\n\t\t\t// Use a render prop so our component is computed,\r\n\t\t\t// allowing our token value to be set and deleted over time\r\n\t\t\tif (localStorage.getItem(\"token\")) {\r\n\t\t\t\t// We are logged in, so render the component as normal\r\n\t\t\t\t// Passing \"renderProps\" so \"Component\" has access to all\r\n\t\t\t\t// the React Router stuff\r\n\t\t\t\treturn <Component {...renderProps} />\r\n\t\t\t} else {\r\n\t\t\t\t// We are not logged in, so redirect to the signin page\r\n\t\t\t\treturn <Redirect to=\"/signin\" />\r\n\t\t\t}\r\n\t\t}} />\r\n\t)\r\n}\r\n\r\nexport default ProtectedRoute\r\n\r\n/* ProtectedRoute is a reuesable component will built as a component as it is above. */","import React, { useState } from 'react';\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\n\r\nconst jwtDecode = require('jwt-decode');\r\n\r\nfunction CreateTrip() {\r\n\tconst [newTrip, addAtrip] = useState([]);\r\n  // console.log(newTrip)\r\n\r\n\tconst handleChange = e => {\r\n\t\taddAtrip({\r\n\t\t\t...newTrip,\r\n\t\t\t\t[e.target.name]: e.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\r\n    const decoded = jwtDecode(localStorage.getItem('token'));\r\n    newTrip.user_id = decoded.userid;\r\n    // newTrip.is_professional = 1;\r\n    // newTrip.is_private = 0;\r\n    // newTrip.distance = '20 miles';\r\n    // newTrip.date = \"2020-06-01 08:00:00:000\";\r\n\t\taxiosWithAuth()\r\n\t\t.post('trips', newTrip)\r\n\t\t.then(response => {\r\n      console.log(newTrip);\r\n\t\t\taddAtrip({newTrip: response.data })\r\n      console.log(response)\r\n      document.getElementById('reset').reset();\r\n\t\t})\r\n    .catch(err => console.log(err.response, newTrip));\r\n    // document.getElementById('reset').reset();\r\n  };\r\n\r\n  \treturn (\r\n  \t\t<div className='CreateTrip'>\r\n  \t\t\t<h1>Create a new trip</h1>\r\n\r\n  \t\t\t<form onSubmit={handleSubmit} id='reset'>\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='title'\r\n  \t\t\t\t\tplaceholder='New Trip Name'\r\n  \t\t\t\t\tvalue={newTrip.title}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='description'\r\n  \t\t\t\t\tplaceholder='Trip Description'\r\n  \t\t\t\t\tvalue={newTrip.description}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='duration'\r\n  \t\t\t\t\tplaceholder='Trip Duration'\r\n  \t\t\t\t\tvalue={newTrip.duration}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='distance'\r\n  \t\t\t\t\tplaceholder='Distance Traveled'\r\n  \t\t\t\t\tvalue={newTrip.distance}\r\n            onChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='trip_type'\r\n  \t\t\t\t\tplaceholder='Type of Trip'\r\n  \t\t\t\t\tvalue={newTrip.trip_type}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n          <p>Private Guide</p>\r\n          <input className='checkbox'\r\n            type='checkbox'\r\n            name='is_private'\r\n            value={newTrip.is_private = 0}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <p>Professional Guide</p>\r\n          <input className='checkbox'\r\n            type='checkbox'\r\n            name='is_professional'\r\n            value={newTrip.is_professional = 0}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <input \r\n            type='time'\r\n            name='date'\r\n            value={newTrip.date}\r\n            onChange={handleChange}\r\n          />\r\n  \t\t\t\t<button>Add Trip</button>\r\n  \t\t\t</form>\r\n  \t\t\r\n    \t</div>\r\n    );\r\n}\r\n\r\nexport default CreateTrip;\r\n","import React from \"react\"\r\nimport { Redirect } from \"react-router-dom\"; // Redirect is another React method. \r\n\r\nfunction Logout(props) {\r\n\tconsole.log('logout')\r\n\t// Nothing has to happen on the server to log out,\r\n\t// just delete the token\r\n\tlocalStorage.removeItem(\"token\")\r\n\t\r\n\treturn <Redirect to=\"/login\" />\r\n}\r\n\r\nexport default Logout\r\n\r\n/*Notice how this component does not display anything. It is just reusable logic that reroutes conditionally. */","import React, { useState, useEffect } from 'react';\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\n\r\nconst jwtDecode = require('jwt-decode');\r\n\r\nfunction UpdateTrip(props) {\r\n\t// console.log(props)\r\n\tconst [tripUpdate, setUpdatedTrip] = useState([]);\r\n  console.log(tripUpdate)\r\n\r\n  \tuseEffect(() => {\r\n\t\taxiosWithAuth()\r\n\t\t.get(`trips/${props.match.params.id}`)\r\n\t\t.then((result) => {\r\n\t\t\t// console.log(result)\r\n\t\t\tsetUpdatedTrip(result.data[0])\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n\t\t// we're subscribing to the param, just in case it ever changes\r\n\t\t// so it'll re-fetch with the new ID\r\n\t}, [props.match.params.id])\r\n\r\n\tconst handleChange = e => {\r\n\t\tsetUpdatedTrip({\r\n\t\t\t...tripUpdate,\r\n\t\t\t\t[e.target.name]: e.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\r\n\t    const decoded = jwtDecode(localStorage.getItem('token'));\r\n\t    tripUpdate.user_id = decoded.userid;\r\n\t    // tripUpdate.is_professional = 1;\r\n\t    // tripUpdate.is_private = 0;\r\n\t    // tripUpdate.distance = '20 miles';\r\n\t    // tripUpdate.date = \"2020-06-01 08:00:00:000\";\r\n\t\taxiosWithAuth()\r\n\t\t.put(`trips/${tripUpdate.id}`, tripUpdate)\r\n\t\t.then(response => {\r\n\t      \tconsole.log(tripUpdate);\r\n\t\t\tsetUpdatedTrip({tripUpdate: response.data })\r\n\t      \tconsole.log(response)\r\n\t      \tdocument.getElementById('reset').reset();\r\n\t\t})\r\n\t    .catch(err => console.log(err.response, tripUpdate));\r\n\t    // document.getElementById('reset').reset();\r\n    };\r\n\r\n  \treturn (\r\n  \t\t<div className='CreateTrip'>\r\n  \t\t\t<h1>Update Trip</h1>\r\n\r\n  \t\t\t<form onSubmit={handleSubmit} id='reset'>\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='title'\r\n  \t\t\t\t\tplaceholder='New Trip Name'\r\n  \t\t\t\t\tvalue={tripUpdate.title}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='description'\r\n  \t\t\t\t\tplaceholder='Trip Description'\r\n  \t\t\t\t\tvalue={tripUpdate.description}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='duration'\r\n  \t\t\t\t\tplaceholder='Trip Duration'\r\n  \t\t\t\t\tvalue={tripUpdate.duration}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='distance'\r\n  \t\t\t\t\tplaceholder='Distance Traveled'\r\n  \t\t\t\t\tvalue={tripUpdate.distance}\r\n            onChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n  \t\t\t\t<input \r\n  \t\t\t\t\ttype='text'\r\n  \t\t\t\t\tname='trip_type'\r\n  \t\t\t\t\tplaceholder='Type of Trip'\r\n  \t\t\t\t\tvalue={tripUpdate.trip_type}\r\n  \t\t\t\t\tonChange={handleChange}\r\n  \t\t\t\t/>\r\n\r\n          <p>Private Guide</p>\r\n          <input className='checkbox'\r\n            type='checkbox'\r\n            name='is_private'\r\n            value={tripUpdate.is_private = 0}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <p>Professional Guide</p>\r\n          <input className='checkbox'\r\n            type='checkbox'\r\n            name='is_professional'\r\n            value={tripUpdate.is_professional = 0}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <input \r\n            type='time'\r\n            name='date'\r\n            value={tripUpdate.date}\r\n            onChange={handleChange}\r\n          />\r\n  \t\t\t\t<button>Add Trip</button>\r\n  \t\t\t</form>\r\n  \t\t\r\n    \t</div>\r\n    );\r\n}\r\n\r\nexport default UpdateTrip;\r\n","import React from 'react';\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Trip(props) {\r\n\tconsole.log(props);\r\n\r\n  \treturn (\r\n  \t\t<div className='trip'>\r\n  \t\t\t<h1>Trip Details</h1>\r\n  \t\t\t<p><strong>TITLE: </strong>{props.title}</p>\r\n  \t\t\t<p><strong>DESCRIPTION: </strong>{props.description}</p>\r\n  \t\t\t<p><strong>DISTANCE: </strong>{props.distance}</p>\r\n  \t\t\t<p><strong>DATE: </strong>{props.date}</p>\r\n  \t\t\t<p><strong>TYPE: </strong>{props.type}</p>\r\n\r\n  \t\t\t<Link to={`/UpdateTrip/${props.id}`}>\r\n  \t\t\t\t<button>Update Trip</button>\r\n  \t\t\t</Link>\r\n  \t\t</div>\r\n  \t);\r\n}\r\n\r\nexport default Trip;\r\n","import React, { useContext } from 'react';\r\nimport { TripsContext } from '../contexts/TripsContext';\r\nimport SingleTripsCard from '../components/SingleTripsCard';\r\n\r\nfunction Trip() {\r\n\r\n  const { trips } = useContext(TripsContext);\r\n  console.log(trips);\r\n\r\n  \treturn (\r\n  \t\t<div className='trip'>\r\n  \t\t\t{trips.map(trip => (\r\n          \r\n            <SingleTripsCard\r\n              title={trip.title}\r\n              key={trip.id}\r\n              id={trip.id}\r\n              description={trip.description}\r\n              distance={trip.distance}\r\n              date={trip.date}\r\n              type={trip.trip_type}\r\n            />\r\n          \r\n        ))}\r\n  \t\t</div>\r\n  \t);\r\n}\r\n\r\nexport default Trip;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\n\r\nimport { getToken } from './utils/axiosWithAuth';\r\nimport axiosWithAuth from './utils/axiosWithAuth';\r\nimport { TripsContext } from './contexts/TripsContext';\r\n\r\nimport Login from './components/Login';\r\nimport SignUp from './components/SignUp';\r\n\r\nimport Trips from './components/Trips';\r\nimport Trip from './components/Trip';\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\nimport ProtectedRoute from './utils/ProtectedRoute';\r\nimport CreateTrip from './components/CreateTrip';\r\nimport Logout from './utils/Logout';\r\nimport UpdateTrip from './components/UpdateTrip';\r\nimport SingleTrip from './components/SingleTrip';\r\n// import CreateProfile from './components/CreateProfile';\r\n\r\nconst jwtDecode = require('jwt-decode');\r\n\r\nfunction App() {\r\n  const [trips, setTrips] = useState([]);\r\n  // console.log(trips);\r\n  const signedIn = getToken();\r\n\r\n  function isSignedIn() {\r\n     const decoded = jwtDecode(localStorage.getItem('token'));\r\n      // console.log(decoded);\r\n      trips.user_id = decoded.userid;\r\n  }\r\n\r\n  useEffect(() => {\r\n      // const decoded = jwtDecode(localStorage.getItem('token'));\r\n      // // // console.log(decoded);\r\n      // trips.user_id = decoded.userid;\r\n      !signedIn ? console.log('Signed In') : isSignedIn()\r\n\r\n      axiosWithAuth()\r\n      .get('trips')\r\n      .then(response => {\r\n        setTrips(response.data)\r\n        // console.log(response);\r\n      })\r\n      .catch(error => {\r\n        console.log('Ooops', error)\r\n      })\r\n    }, [trips.user_id, !signedIn]); \r\n\r\n  return (\r\n    <div className='App'>\r\n      <nav>\r\n        {!signedIn && \r\n          <Link \r\n            to='/SignUp'>\r\n              Sign Up\r\n          </Link>}\r\n\r\n        {!signedIn &&\r\n          <Link \r\n            to='/Login'>\r\n              Login\r\n          </Link>}\r\n\r\n        {signedIn && \r\n          <Link \r\n            to='/CreateTrip'>\r\n              Create A Trips\r\n          </Link>}\r\n\r\n        {/*signedIn && \r\n          <Link\r\n            to='/Profile'>\r\n              Guide Profile\r\n          </Link>*/}\r\n        {signedIn && \r\n          <Link\r\n            to='/Trips'>\r\n              Trip List\r\n          </Link>\r\n        }\r\n\r\n        {signedIn && \r\n          <Link\r\n            to='/Logout'>\r\n              Logout\r\n          </Link>\r\n        }\r\n        {/*signedIn && \r\n          <Link \r\n            to='/CreateProfile'>\r\n              Create Profile\r\n          </Link>\r\n        */}\r\n      </nav>\r\n\r\n      <Route \r\n        exact path='/login'\r\n        component={Login}\r\n      >\r\n      </Route>\r\n      \r\n      <Route \r\n        exact path='/SignUp'\r\n        component={SignUp}\r\n      >\r\n      </Route>\r\n      \r\n      <TripsContext.Provider value={{ trips }}>\r\n        <ProtectedRoute\r\n          exact path='/Trips'\r\n          component={Trips}\r\n      />\r\n\r\n      <ProtectedRoute\r\n        exact path='/Trip/:id'\r\n        component={Trip}\r\n      />\r\n\r\n      <ProtectedRoute\r\n        exact path='/SingleTrip/:id'\r\n        component={SingleTrip}\r\n      />\r\n      </TripsContext.Provider>\r\n\r\n      <ProtectedRoute\r\n        exact path='/CreateTrip'\r\n        component={CreateTrip}\r\n      />\r\n\r\n      <ProtectedRoute\r\n        exact path='/Logout'\r\n        component={Logout}\r\n      />\r\n\r\n      <ProtectedRoute\r\n        exact path='/UpdateTrip/:id'\r\n        component={UpdateTrip}\r\n      />\r\n\r\n      {/*\r\n      <ProtectedRoute \r\n              exact path='/CreateProfile'\r\n              component={CreateProfile}\r\n            />*/}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}